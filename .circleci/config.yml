version: 2
jobs:
  test-api:
    docker:
      - image: node:8-slim
    steps:
      - checkout
      - run: |
          cd api
          yarn install
          yarn lint
          yarn test
  test-admin-ui:
    docker:
      - image: node:8-slim
    steps:
      - checkout
      - run: |
          apt-get update -y && apt-get install -y git
          cd admin-ui
          yarn install
          yarn lint
workflows:
  version: 2
  test_all:
    jobs:
      - test-api
      - test-admin-ui
